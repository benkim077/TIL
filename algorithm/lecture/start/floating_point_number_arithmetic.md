# 실수

## 실수의 표현

- 소수점 이하 4자리를 10진수로 나타내보면

    - 2진수 소수표현으로 10진수 소수값을 나타나는 것에 제한이 있다.

- 2진 실수를 10진수로 변환하는 방법

## 컴퓨터에서 실수 표현

- 컴퓨터는 실수를 표현하기 위해 부동 소수점(floating-point) 표기법을 사용.

    - 소수점의 위치를 고정시켜 표현하는 방식

    - 소수점의 위치를 왼쪽의 가장 유효한 숫자 다음으로 고정시키고 밑수의 지수승으로 표현

        - `1001.0011` -> `1.0010011 * (2**3)`

## 실수를 저장하기 위한 형식

- 단정도 실수(32비트). float

    - 부호 1비트, 지수 8비트, 가수 23비트

- 배정도 실수(64비트). double

    - 부호 1비트, 지수 11비트, 가수 52비트

- 가수부(mantissa) : 실수의 유효 자릿수들을 부호화된 고정 소수점으로 표현한 것

- 지수부(exponent) : 실제 소수점의 위치를 지수 승으로 표현한 것

### 단정도 실수의 가수 부분을 만드는 방법

- 정수부 첫 번째 자리가 1이 되도록 오른쪽(또는 왼쪽)으로 시프트

- 소수점 이하는 23비트로 만든다.

- 소수점 이하만을 가수 부분에 저장

- 지수 부분은 시프트한 자릿수 만큼 증가 또는 감소

### 단정도 실수의 지수 부분을 만드는 방법

- 지수부에는 8비트가 배정(256개의 상태)

- 0 - 255까지 나타낼 수 있지만, 음수 값을 나타낼 수 있어야 하므로 익세스(excess) 표현법을 사용

    - 익세스 표현법 : 지수부 만을 반으로 나누어 그 값을 0으로 간주하여 음수지수와 양수지수를 표현하는 방법

        - 8비트의 중간을 0으로 하고 작은 것은 음수, 큰 것은 양수

        - 0은 2진수 0111111이고 10진수로는 127이다.

        - -127은 2진수 00000000이고 10진수 0이다.

        - 128은 2진수 11111111이고 10진수 255이다.

## 컴퓨터는 실수를 근사적으로 표현

- 이진법으로 표현할 수 없는 형태의 실수는 정확한 값이 아니라 근사 값으로 저장. 

- 이때 생기는 작은 오차가 계산 과정에서 다른 결과를 가져온다.

### 실수 자료형의 유효 자릿수

- 32비트 실수형 유효자릿수(십진수) => 6

- 64비트 실수형 유효자릿수(십진수) => 15

### 파이썬에서 실수 표현 범위

- 내부적으로 더 많은 비트를 사용해서 훨씬 넓은 범위의 실수를 표현할 수 있다.

- 최대로 표현할 수 있는 값은 약 1.8 * 10^308이고 이 이상은 inf로 표현한다.

- 최소로 표현할 수 있는 값은 약 5.0 * 10^-324이며, 이 이하는 0으로 표현한다.